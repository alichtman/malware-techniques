from threading import Timer
from pynput import mouse
from ..utils.print import *

mouse_action_count = 0


def count_action():
	global mouse_action_count
	mouse_action_count += 1


def decide_if_real_person_is_there():
	if mouse_action_count > 20:
		print_green("Not in an automated system!\n")
	else:
		print_red("Automated system!\n")


def main():
	# Set up mouse listener
	listener = mouse.Listener(
		on_move=count_action,
		on_click=count_action,
		on_scroll=count_action)

	listener.start()

	# Collect a minute of data.
	Timer(60, decide_if_real_person_is_there, ()).start()
